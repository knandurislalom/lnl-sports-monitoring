import React from 'react';\nimport {\n  Card,\n  CardContent,\n  Box,\n  Typography,\n  Chip,\n  Fab,\n  useTheme,\n  useMediaQuery,\n  Zoom,\n} from '@mui/material';\nimport {\n  KeyboardArrowUp as KeyboardArrowUpIcon,\n  Sports as SportsIcon,\n  Warning as WarningIcon,\n  CheckCircle as SuccessIcon,\n  Info as InfoIcon,\n} from '@mui/icons-material';\nimport { useResponsive, useResponsiveSpacing, useResponsiveTypography } from '../../hooks/useResponsive';\n\n// ===== RESPONSIVE ERROR BOUNDARY COMPONENT =====\n\ninterface ResponsiveErrorBoundaryProps {\n  children: React.ReactNode;\n  fallback?: React.ComponentType<{ error: Error; resetError: () => void }>;\n}\n\nclass ResponsiveErrorBoundary extends React.Component<\n  ResponsiveErrorBoundaryProps,\n  { hasError: boolean; error: Error | null }\n> {\n  constructor(props: ResponsiveErrorBoundaryProps) {\n    super(props);\n    this.state = { hasError: false, error: null };\n  }\n\n  static getDerivedStateFromError(error: Error) {\n    return { hasError: true, error };\n  }\n\n  componentDidCatch(error: Error, errorInfo: React.ErrorInfo) {\n    console.error('Error caught by ResponsiveErrorBoundary:', error, errorInfo);\n  }\n\n  resetError = () => {\n    this.setState({ hasError: false, error: null });\n  };\n\n  render() {\n    if (this.state.hasError && this.state.error) {\n      const FallbackComponent = this.props.fallback || ResponsiveErrorFallback;\n      return <FallbackComponent error={this.state.error} resetError={this.resetError} />;\n    }\n\n    return this.props.children;\n  }\n}\n\n// ===== RESPONSIVE ERROR FALLBACK COMPONENT =====\n\ninterface ResponsiveErrorFallbackProps {\n  error: Error;\n  resetError: () => void;\n}\n\nconst ResponsiveErrorFallback: React.FC<ResponsiveErrorFallbackProps> = ({ error, resetError }) => {\n  const { isMobile } = useResponsive();\n  const { getContainerSpacing, getSectionSpacing } = useResponsiveSpacing();\n  const { getHeadingVariant, getButtonSize } = useResponsiveTypography();\n\n  return (\n    <Box sx={{ \n      p: getContainerSpacing(), \n      minHeight: '50vh', \n      display: 'flex', \n      alignItems: 'center', \n      justifyContent: 'center' \n    }}>\n      <Card sx={{ maxWidth: 600, width: '100%' }}>\n        <CardContent sx={{ textAlign: 'center', p: getSectionSpacing() }}>\n          <WarningIcon \n            sx={{ \n              fontSize: isMobile ? 48 : 64, \n              color: 'error.main', \n              mb: 2 \n            }} \n          />\n          \n          <Typography variant={getHeadingVariant(5)} gutterBottom>\n            Oops! Something went wrong\n          </Typography>\n          \n          <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 3 }}>\n            {isMobile \n              ? 'An error occurred while loading this section.' \n              : 'An unexpected error occurred while loading this section of the dashboard.'\n            }\n          </Typography>\n          \n          {!isMobile && (\n            <Box sx={{ \n              bgcolor: 'grey.100', \n              p: 2, \n              borderRadius: 1, \n              mb: 3,\n              fontFamily: 'monospace',\n              fontSize: '0.75rem',\n              textAlign: 'left',\n              wordBreak: 'break-word'\n            }}>\n              {error.message}\n            </Box>\n          )}\n          \n          <Box sx={{ display: 'flex', gap: 2, justifyContent: 'center', flexWrap: 'wrap' }}>\n            <Chip\n              label=\"Try Again\"\n              onClick={resetError}\n              color=\"primary\"\n              clickable\n              size={isMobile ? 'small' : 'medium'}\n            />\n            \n            <Chip\n              label=\"Refresh Page\"\n              onClick={() => window.location.reload()}\n              variant=\"outlined\"\n              clickable\n              size={isMobile ? 'small' : 'medium'}\n            />\n          </Box>\n        </CardContent>\n      </Card>\n    </Box>\n  );\n};\n\n// ===== RESPONSIVE LOADING COMPONENT =====\n\ninterface ResponsiveLoadingProps {\n  message?: string;\n  size?: 'small' | 'medium' | 'large';\n  variant?: 'circular' | 'skeleton' | 'pulse';\n}\n\nexport const ResponsiveLoading: React.FC<ResponsiveLoadingProps> = ({ \n  message, \n  size = 'medium',\n  variant = 'circular'\n}) => {\n  const { isMobile } = useResponsive();\n  const { getContainerSpacing } = useResponsiveSpacing();\n  const { getHeadingVariant } = useResponsiveTypography();\n\n  const getSize = () => {\n    if (isMobile) {\n      switch (size) {\n        case 'small': return 24;\n        case 'medium': return 32;\n        case 'large': return 40;\n        default: return 32;\n      }\n    } else {\n      switch (size) {\n        case 'small': return 32;\n        case 'medium': return 48;\n        case 'large': return 64;\n        default: return 48;\n      }\n    }\n  };\n\n  if (variant === 'skeleton') {\n    return (\n      <Box sx={{ p: getContainerSpacing() }}>\n        {Array.from({ length: isMobile ? 3 : 6 }).map((_, index) => (\n          <Card key={index} sx={{ mb: 2, minHeight: isMobile ? 80 : 120 }}>\n            <CardContent>\n              <Box sx={{ \n                bgcolor: 'grey.200', \n                borderRadius: 1, \n                height: isMobile ? 60 : 100,\n                animation: 'pulse 1.5s ease-in-out infinite alternate'\n              }} />\n            </CardContent>\n          </Card>\n        ))}\n      </Box>\n    );\n  }\n\n  return (\n    <Box sx={{ \n      p: getContainerSpacing(),\n      minHeight: isMobile ? '30vh' : '50vh',\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      justifyContent: 'center',\n      textAlign: 'center'\n    }}>\n      <SportsIcon \n        sx={{ \n          fontSize: getSize(),\n          color: 'primary.main',\n          mb: 2,\n          animation: variant === 'pulse' ? 'pulse 1.5s ease-in-out infinite alternate' : 'none'\n        }} \n      />\n      \n      {message && (\n        <Typography \n          variant={getHeadingVariant(6)} \n          color=\"text.secondary\"\n        >\n          {message}\n        </Typography>\n      )}\n    </Box>\n  );\n};\n\n// ===== RESPONSIVE EMPTY STATE COMPONENT =====\n\ninterface ResponsiveEmptyStateProps {\n  title: string;\n  description?: string;\n  icon?: React.ElementType;\n  action?: React.ReactNode;\n}\n\nexport const ResponsiveEmptyState: React.FC<ResponsiveEmptyStateProps> = ({\n  title,\n  description,\n  icon: Icon = SportsIcon,\n  action\n}) => {\n  const { isMobile } = useResponsive();\n  const { getContainerSpacing, getSectionSpacing } = useResponsiveSpacing();\n  const { getHeadingVariant } = useResponsiveTypography();\n\n  return (\n    <Box sx={{ \n      p: getContainerSpacing(),\n      minHeight: isMobile ? '30vh' : '40vh',\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      justifyContent: 'center',\n      textAlign: 'center'\n    }}>\n      <Icon \n        sx={{ \n          fontSize: isMobile ? 48 : 64,\n          color: 'text.disabled',\n          mb: 2,\n          opacity: 0.5\n        }} \n      />\n      \n      <Typography variant={getHeadingVariant(5)} gutterBottom>\n        {title}\n      </Typography>\n      \n      {description && (\n        <Typography \n          variant=\"body2\" \n          color=\"text.secondary\"\n          sx={{ mb: action ? 3 : 0, maxWidth: isMobile ? 300 : 400 }}\n        >\n          {description}\n        </Typography>\n      )}\n      \n      {action}\n    </Box>\n  );\n};\n\n// ===== RESPONSIVE STATUS INDICATOR =====\n\ninterface ResponsiveStatusProps {\n  status: 'success' | 'warning' | 'error' | 'info';\n  message: string;\n  compact?: boolean;\n}\n\nexport const ResponsiveStatus: React.FC<ResponsiveStatusProps> = ({\n  status,\n  message,\n  compact\n}) => {\n  const { isMobile } = useResponsive();\n  \n  const getStatusConfig = () => {\n    switch (status) {\n      case 'success':\n        return { icon: SuccessIcon, color: 'success.main' };\n      case 'warning':\n        return { icon: WarningIcon, color: 'warning.main' };\n      case 'error':\n        return { icon: WarningIcon, color: 'error.main' };\n      case 'info':\n      default:\n        return { icon: InfoIcon, color: 'info.main' };\n    }\n  };\n\n  const { icon: Icon, color } = getStatusConfig();\n  const isCompact = compact || isMobile;\n\n  if (isCompact) {\n    return (\n      <Chip\n        icon={<Icon />}\n        label={message}\n        color={status}\n        size=\"small\"\n        variant=\"outlined\"\n      />\n    );\n  }\n\n  return (\n    <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n      <Icon sx={{ color, fontSize: 20 }} />\n      <Typography variant=\"body2\" color={color}>\n        {message}\n      </Typography>\n    </Box>\n  );\n};\n\n// ===== RESPONSIVE SCROLL TO TOP =====\n\nexport const ResponsiveScrollToTop: React.FC = () => {\n  const { isMobile } = useResponsive();\n  const theme = useTheme();\n  const [show, setShow] = React.useState(false);\n\n  React.useEffect(() => {\n    const handleScroll = () => {\n      setShow(window.scrollY > 300);\n    };\n\n    window.addEventListener('scroll', handleScroll);\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, []);\n\n  const scrollToTop = () => {\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  };\n\n  return (\n    <Zoom in={show}>\n      <Fab\n        onClick={scrollToTop}\n        size={isMobile ? 'small' : 'medium'}\n        color=\"primary\"\n        sx={{\n          position: 'fixed',\n          bottom: isMobile ? 16 : 24,\n          right: isMobile ? 16 : 24,\n          zIndex: theme.zIndex.fab,\n        }}\n      >\n        <KeyboardArrowUpIcon />\n      </Fab>\n    </Zoom>\n  );\n};\n\n// Export error boundary\nexport { ResponsiveErrorBoundary };